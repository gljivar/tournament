<h1>Field Fights</h1>
<div ng-controller="FieldsIndexCtrl">
  <div class="well well-small row margin-left-0" ng-repeat="field in fields">
    <div class="span9 margin-left-0">
      <div class="label label-info">{{field.name}}</div>
    </div>
    <div class="span9 margin-left-0">
      <div class="span2 well well-small margin-left-20" ng-repeat="fight in field_fights | filter: { field_actual_id : field.id }">
        <div class="badge badge-info">{{fight.field_initial.name}}-{{fight.number}}</div>
        <div>
          <div class="text-info" ng-class="{'icon-star':fight.competitor_winner_id == fight.competitor_blue_id}">
            {{fight.competitor_blue.last_name}}
            <button class="btn btn-primary pull-right"
              ng-show="isCurrentFight(fight, (field_fights | filter: { field_actual_id : field.id } | orderBy:number))" ng-click="save(fight, fight.competitor_blue_id)">  
            Winner
            </button>
            </br>
            <small>({{fight.competitor_blue.club.name}})</small>
          </div>
          <div class="text-error" ng-class="{'icon-star':fight.competitor_winner_id == fight.competitor_red_id}">
            {{fight.competitor_red.last_name}}
            <button class="btn btn-danger pull-right"
              ng-show="isCurrentFight(fight, (field_fights | filter: { field_actual_id : field.id } | orderBy:number))" ng-click="save(fight, fight.competitor_red_id)">  
            Winner
            </button>
            </br>
            <small>({{fight.competitor_red.club.name}})</small>
          </div>
        </div>
      </div>
    </div>  
  </div>
</div>

</p>
